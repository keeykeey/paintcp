{"ast":null,"code":"//canvas\n//https://cr-vue.mio3io.com/examples/canvas.html#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89\nexport default {\n  name: \"PaintPallet\",\n  props: {\n    title: String,\n    color: String\n  },\n  data: function () {\n    return {\n      is_drawing_mode: false,\n      mouse_x: null,\n      mouse_y: null,\n      canvas_x: null,\n      canvas_y: null\n    };\n  },\n  mounted: function () {\n    this.canvas = this.$refs.canvas;\n    this.rect = this.canvas.getBoundingClientRect(); //https://note.affi-sapo-sv.com/js-canvas-click-coordinate.php\n  },\n\n  methods: {\n    getMousePosition(e) {\n      this.mouse_x = e.clientX;\n      this.mouse_y = e.clientY;\n    },\n    getCanvasPosition() {\n      this.canvas_x = this.mouse_x - this.rect.left;\n      this.canvas_y = this.mouse_y - this.rect.top;\n    },\n    draw(e) {\n      switch (this.is_drawing_mode) {\n        case false:\n          break;\n        case true:\n          {\n            this.getMousePosition(e);\n            this.getCanvasPosition();\n            this.rect.fillRect(this.canvas_x, this.canvas_y, 10, 10);\n            break;\n          }\n        default:\n          break;\n      }\n    },\n    changeMode() {\n      this.is_drawing_mode = !this.is_drawing_mode;\n    }\n  }\n};","map":{"version":3,"mappings":"AAgBA;AACA;AACA;EACAA;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;EACA;;EACAC;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;QACA;UACA;QACA;UACA;YACA;YACA;YACA;YACA;UACA;QACA;UACA;MAAA;IAEA;IACAC;MACA;IACA;EACA;AACA","names":["name","props","title","color","data","is_drawing_mode","mouse_x","mouse_y","canvas_x","canvas_y","mounted","methods","getMousePosition","getCanvasPosition","draw","changeMode"],"sourceRoot":"src/components","sources":["PaintPallet.vue"],"sourcesContent":["<template>\n  <div class=\"comp\">\n    <p class=\"title\">{{ title }}</p>\n    <div>\n        <canvas \n            class=\"canvas\" ref=\"canvas\"\n            @mousemove = \"draw\"\n            @mousedown = \"changeMode\"\n            @mouseup   = \"changeMode\"\n         ></canvas>\n    </div>\n    <button v-on:click=\"changeMode\">start drawing</button>\n  </div>\n</template>\n\n<script>\n//canvas\n//https://cr-vue.mio3io.com/examples/canvas.html#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89\nexport default {\n    name: \"PaintPallet\",\n    props: {\n        title : String,\n        color : String,\n    },\n    data: function(){\n        return {\n            is_drawing_mode: false,\n            mouse_x        : null,\n            mouse_y        : null,\n            canvas_x       : null,\n            canvas_y       : null,\n        }\n    },\n    mounted: function(){\n        this.canvas = this.$refs.canvas;\n        this.rect   = this.canvas.getBoundingClientRect();//https://note.affi-sapo-sv.com/js-canvas-click-coordinate.php\n    },\n    methods: {\n        getMousePosition(e){\n            this.mouse_x = e.clientX;\n            this.mouse_y = e.clientY;\n        },\n        getCanvasPosition(){\n            this.canvas_x = this.mouse_x - this.rect.left;\n            this.canvas_y = this.mouse_y - this.rect.top;\n        },\n        draw(e){\n            switch (this.is_drawing_mode){\n                case false:\n                    break;\n                case true:\n                {\n                    this.getMousePosition(e);\n                    this.getCanvasPosition();\n                    this.rect.fillRect(this.canvas_x, this.canvas_y, 10, 10)\n                    break;\n                }\n                default:\n                    break;\n            }\n        },\n        changeMode(){\n            this.is_drawing_mode = !this.is_drawing_mode;\n        }\n    }\n}\n\n\n</script>\n\n\n\n<style scoped>\ncanvas{\n    width:400px;\n    height:400px;\n    border:solid 1px;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}